#taken from mainnet at KT1UvfyLytrt71jh63YV4Yex5SmbNXpWHxtg
parameter (or (or (or (or (or (pair %build (pair (string %game) (address %player1)) (address %player2)) (string %game)) (pair %play (pair (pair (string %game) (int %i)) (int %j)) (int %move))) (pair %setGameMetaData (pair (string %game) (string %name)) (string %value))) (pair %setMetaData (string %name) (string %value))) (bool %setPause));
storage (pair (big_map string (pair (pair (pair (pair (pair (pair (pair (map %deck int (map int int)) (bool %draw)) (map %metaData string string)) (int %nbMoves)) (int %nextPlayer)) (address %player1)) (address %player2)) (int %winner))) (pair (pair (address %admin) (map %metaData string string)) (bool %paused)));
code { DUP ;
       CDR ;
       SWAP ;
       CAR ;
       IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { PAIR ;
                                                         DUP ;
                                                         { CDR ; CDR ; CDR } ;
                                                         NOT ;
                                                         IF { PUSH bool True }
                                                            { DUP ;
                                                              { CDR ; CDR ; CAR ; CAR } ;
                                                              SENDER ;
                                                              COMPARE ;
                                                              EQ } ;
                                                         IF {} { PUSH string "WrongCondition: (~ self.data.paused) | (sp.sender == self.data.admin)" ; FAILWITH } ;
                                                         DUP ;
                                                         { CDR ; CAR } ;
                                                         { DIP { DUP } ; SWAP } ;
                                                         { CAR ; CAR ; CAR } ;
                                                         MEM ;
                                                         NOT ;
                                                         IF {} { PUSH string "WrongCondition: ~ (params.game in self.data.boards)" ; FAILWITH } ;
                                                         DUP ;
                                                         CDR ;
                                                         DUP ;
                                                         CAR ;
                                                         { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                         { CAR ; CAR ; CAR } ;
                                                         { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ;
                                                         CAR ;
                                                         CDR ;
                                                         PUSH int 0 ;
                                                         SWAP ;
                                                         { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                                         { CAR ; CAR ; CDR } ;
                                                         PUSH int 1 ;
                                                         PUSH int 0 ;
                                                         EMPTY_MAP string string ;
                                                         PUSH bool False ;
                                                         PUSH (map int (map int int)) { Elt 0 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } ; Elt 1 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } ; Elt 2 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } } ;
                                                         PAIR ;
                                                         PAIR ;
                                                         PAIR ;
                                                         PAIR ;
                                                         PAIR ;
                                                         PAIR ;
                                                         PAIR ;
                                                         SOME ;
                                                         SWAP ;
                                                         UPDATE ;
                                                         SWAP ;
                                                         CDR ;
                                                         SWAP ;
                                                         PAIR ;
                                                         SWAP ;
                                                         DROP ;
                                                         NIL operation ;
                                                         PAIR }
                                                       { PAIR ;
                                                         DUP ;
                                                         { CDR ; CDR ; CAR ; CAR } ;
                                                         SENDER ;
                                                         COMPARE ;
                                                         EQ ;
                                                         IF {} { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                                                         DUP ;
                                                         CDR ;
                                                         DUP ;
                                                         CAR ;
                                                         { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                         CAR ;
                                                         NONE (pair (pair (pair (pair (pair (pair (pair (map %deck int (map int int)) (bool %draw)) (map %metaData string string)) (int %nbMoves)) (int %nextPlayer)) (address %player1)) (address %player2)) (int %winner)) ;
                                                         SWAP ;
                                                         UPDATE ;
                                                         SWAP ;
                                                         CDR ;
                                                         SWAP ;
                                                         PAIR ;
                                                         SWAP ;
                                                         DROP ;
                                                         NIL operation ;
                                                         PAIR } }
                                             { PAIR ;
                                               DUP ;
                                               { CDR ; CDR ; CDR } ;
                                               NOT ;
                                               IF {} { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               CDR ;
                                               COMPARE ;
                                               EQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CDR } ;
                                                    NOT }
                                                  { PUSH bool False } ;
                                               IF {} { PUSH string "WrongCondition: (self.data.boards[params.game].winner == 0) & (~ self.data.boards[params.game].draw)" ; FAILWITH } ;
                                               DUP ;
                                               CAR ;
                                               { CAR ; CAR ; CDR } ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               COMPARE ;
                                               GE ;
                                               IF { PUSH int 3 ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CDR } ;
                                                    COMPARE ;
                                                    LT }
                                                  { PUSH bool False } ;
                                               IF {} { PUSH string "WrongCondition: (params.i >= 0) & (params.i < 3)" ; FAILWITH } ;
                                               DUP ;
                                               CAR ;
                                               { CAR ; CDR } ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               COMPARE ;
                                               GE ;
                                               IF { PUSH int 3 ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    COMPARE ;
                                                    LT }
                                                  { PUSH bool False } ;
                                               IF {} { PUSH string "WrongCondition: (params.j >= 0) & (params.j < 3)" ; FAILWITH } ;
                                               DUP ;
                                               { CDR ; CAR } ;
                                               { DIP { DUP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CDR } ;
                                               { DIP { DUP } ; SWAP } ;
                                               { CAR ; CDR } ;
                                               COMPARE ;
                                               EQ ;
                                               IF {} { PUSH string "WrongCondition: params.move == self.data.boards[params.game].nextPlayer" ; FAILWITH } ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CDR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CDR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               COMPARE ;
                                               EQ ;
                                               IF {} { PUSH string "WrongCondition: self.data.boards[params.game].deck[params.i][params.j] == 0" ; FAILWITH } ;
                                               DUP ;
                                               CAR ;
                                               CDR ;
                                               PUSH int 1 ;
                                               COMPARE ;
                                               EQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    SENDER ;
                                                    COMPARE ;
                                                    EQ ;
                                                    IF {} { PUSH string "WrongCondition: sp.sender == self.data.boards[params.game].player1" ; FAILWITH } }
                                                  { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CDR } ;
                                                    SENDER ;
                                                    COMPARE ;
                                                    EQ ;
                                                    IF {} { PUSH string "WrongCondition: sp.sender == self.data.boards[params.game].player2" ; FAILWITH } } ;
                                               DUP ;
                                               CDR ;
                                               DUP ;
                                               CAR ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               PAIR ;
                                               DUP ;
                                               DIP { { { DUP ; CAR ; DIP { CDR } } } } ;
                                               { { DUP ; CAR ; DIP { CDR } } } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ;
                                               CAR ;
                                               { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CDR } ;
                                               PUSH int 3 ;
                                               SUB ;
                                               SWAP ;
                                               { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { CAR @%% ; PAIR %@ % } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } ;
                                               SOME ;
                                               SWAP ;
                                               UPDATE ;
                                               SWAP ;
                                               CDR ;
                                               SWAP ;
                                               PAIR ;
                                               SWAP ;
                                               CAR ;
                                               PAIR ;
                                               DUP ;
                                               CDR ;
                                               DUP ;
                                               CAR ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               PAIR ;
                                               DUP ;
                                               DIP { { { DUP ; CAR ; DIP { CDR } } } } ;
                                               { { DUP ; CAR ; DIP { CDR } } } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               DUP ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CDR } ;
                                               PAIR ;
                                               DUP ;
                                               DIP { { { DUP ; CAR ; DIP { CDR } } } } ;
                                               { { DUP ; CAR ; DIP { CDR } } } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { DIP { DIP { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CDR } ;
                                               { DIP { DIP { DIP { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                               { CAR ; CDR } ;
                                               SOME ;
                                               SWAP ;
                                               UPDATE ;
                                               SOME ;
                                               SWAP ;
                                               UPDATE ;
                                               SWAP ;
                                               { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { CDR @%% ; SWAP ; PAIR % %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } ;
                                               SOME ;
                                               SWAP ;
                                               UPDATE ;
                                               SWAP ;
                                               CDR ;
                                               SWAP ;
                                               PAIR ;
                                               SWAP ;
                                               CAR ;
                                               PAIR ;
                                               DUP ;
                                               CDR ;
                                               DUP ;
                                               CAR ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               PAIR ;
                                               DUP ;
                                               DIP { { { DUP ; CAR ; DIP { CDR } } } } ;
                                               { { DUP ; CAR ; DIP { CDR } } } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ;
                                               CAR ;
                                               PUSH int 1 ;
                                               SWAP ;
                                               { DIP { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CDR } ;
                                               ADD ;
                                               SWAP ;
                                               { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { CAR @%% ; PAIR %@ % } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } ;
                                               SOME ;
                                               SWAP ;
                                               UPDATE ;
                                               SWAP ;
                                               CDR ;
                                               SWAP ;
                                               PAIR ;
                                               SWAP ;
                                               CAR ;
                                               PAIR ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CDR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               PUSH int 0 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               COMPARE ;
                                               NEQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ; CDR ; DUP ; CAR ; { DIP { DIP { DUP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; PAIR ; DUP ; DIP { { { DUP ; CAR ; DIP { CDR } } } } ; { { DUP ; CAR ; DIP { CDR } } } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; CAR ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CDR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; PUSH int 0 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; SWAP ; CAR ; PAIR ; SOME ; SWAP ; UPDATE ; SWAP ; CDR ; SWAP ; PAIR ; SWAP ; CAR ; PAIR } {} ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               PUSH int 0 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CDR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               COMPARE ;
                                               NEQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CDR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ; CDR ; DUP ; CAR ; { DIP { DIP { DUP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; PAIR ; DUP ; DIP { { { DUP ; CAR ; DIP { CDR } } } } ; { { DUP ; CAR ; DIP { CDR } } } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; CAR ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ; PUSH int 0 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CDR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; SWAP ; CAR ; PAIR ; SOME ; SWAP ; UPDATE ; SWAP ; CDR ; SWAP ; PAIR ; SWAP ; CAR ; PAIR } {} ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               PUSH int 0 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               PUSH int 0 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               COMPARE ;
                                               NEQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ; CDR ; DUP ; CAR ; { DIP { DIP { DUP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; PAIR ; DUP ; DIP { { { DUP ; CAR ; DIP { CDR } } } } ; { { DUP ; CAR ; DIP { CDR } } } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; CAR ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ; PUSH int 0 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; PUSH int 0 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; SWAP ; CAR ; PAIR ; SOME ; SWAP ; UPDATE ; SWAP ; CDR ; SWAP ; PAIR ; SWAP ; CAR ; PAIR } {} ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 0 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                               PUSH int 0 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               PUSH int 2 ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               COMPARE ;
                                               NEQ ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 1 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ;
                                                    PUSH int 0 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    PUSH int 2 ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ; CDR ; DUP ; CAR ; { DIP { DIP { DUP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; PAIR ; DUP ; DIP { { { DUP ; CAR ; DIP { CDR } } } } ; { { DUP ; CAR ; DIP { CDR } } } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; CAR ; { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; { CAR ; CAR ; CAR ; CAR ; CAR ; CAR ; CAR } ; PUSH int 0 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; PUSH int 2 ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; SWAP ; CAR ; PAIR ; SOME ; SWAP ; UPDATE ; SWAP ; CDR ; SWAP ; PAIR ; SWAP ; CAR ; PAIR } {} ;
                                               DUP ;
                                               CDR ;
                                               CAR ;
                                               PUSH int 9 ;
                                               SWAP ;
                                               { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                               { CAR ; CAR ; CAR ; CAR } ;
                                               GET ;
                                               { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                               { CAR ; CAR ; CAR ; CAR ; CDR } ;
                                               COMPARE ;
                                               EQ ;
                                               IF { PUSH int 0 ;
                                                    { DIP { DUP } ; SWAP } ;
                                                    { CDR ; CAR } ;
                                                    { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                                    { CAR ; CAR ; CAR ; CAR } ;
                                                    GET ;
                                                    { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                                    CDR ;
                                                    COMPARE ;
                                                    EQ }
                                                  { PUSH bool False } ;
                                               IF { DUP ; CDR ; DUP ; CAR ; { DIP { DIP { DUP } ; SWAP } ; SWAP } ; { CAR ; CAR ; CAR ; CAR } ; PAIR ; DUP ; DIP { { { DUP ; CAR ; DIP { CDR } } } } ; { { DUP ; CAR ; DIP { CDR } } } ; GET ; { IF_NONE { { UNIT ; FAILWITH } } {} } ; PUSH bool True ; SWAP ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { CAR @%% ; PAIR %@ % } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } ; SOME ; SWAP ; UPDATE ; SWAP ; CDR ; SWAP ; PAIR ; SWAP ; CAR ; PAIR } {} ;
                                               CDR ;
                                               NIL operation ;
                                               PAIR } }
                                   { PAIR ;
                                     DUP ;
                                     { CDR ; CDR ; CAR ; CAR } ;
                                     SENDER ;
                                     COMPARE ;
                                     EQ ;
                                     IF { PUSH bool True }
                                        { DUP ;
                                          { CDR ; CAR } ;
                                          { DIP { DUP } ; SWAP } ;
                                          { CAR ; CAR ; CAR } ;
                                          GET ;
                                          { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                          { CAR ; CAR ; CDR } ;
                                          SENDER ;
                                          COMPARE ;
                                          EQ } ;
                                     IF {} { PUSH string "WrongCondition: (sp.sender == self.data.admin) | (sp.sender == self.data.boards[params.game].player1)" ; FAILWITH } ;
                                     DUP ;
                                     CDR ;
                                     DUP ;
                                     CAR ;
                                     { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                                     { CAR ; CAR ; CAR } ;
                                     PAIR ;
                                     DUP ;
                                     DIP { { { DUP ; CAR ; DIP { CDR } } } } ;
                                     { { DUP ; CAR ; DIP { CDR } } } ;
                                     GET ;
                                     { IF_NONE { { UNIT ; FAILWITH } } {} } ;
                                     DUP ;
                                     { CAR ; CAR ; CAR ; CAR ; CAR ; CDR } ;
                                     { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                     { CAR ; CAR ; CDR } ;
                                     { DIP { DIP { DIP { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ; SWAP } ;
                                     { CAR ; CDR } ;
                                     SOME ;
                                     SWAP ;
                                     UPDATE ;
                                     SWAP ;
                                     { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { DUP ; DIP { CAR @%% ; { CAR @%% ; PAIR %@ % } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CDR @%% ; SWAP ; PAIR %@ %@ } ;
                                     SOME ;
                                     SWAP ;
                                     UPDATE ;
                                     SWAP ;
                                     CDR ;
                                     SWAP ;
                                     PAIR ;
                                     SWAP ;
                                     DROP ;
                                     NIL operation ;
                                     PAIR } }
                         { PAIR ;
                           DUP ;
                           { CDR ; CDR ; CAR ; CAR } ;
                           SENDER ;
                           COMPARE ;
                           EQ ;
                           IF {} { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                           DUP ;
                           CDR ;
                           DUP ;
                           { CDR ; CAR ; CDR } ;
                           { DIP { DIP { DUP } ; SWAP } ; SWAP } ;
                           { CAR ; CAR } ;
                           { DIP { DIP { DIP { DUP } ; SWAP } ; SWAP } ; SWAP } ;
                           { CAR ; CDR } ;
                           SOME ;
                           SWAP ;
                           UPDATE ;
                           SWAP ;
                           { DUP ; DIP { CDR @%% ; { DUP ; DIP { CAR @%% ; { CAR @%% ; PAIR %@ % } } ; CDR @%% ; SWAP ; PAIR %@ %@ } } ; CAR @%% ; PAIR %@ %@ } ;
                           SWAP ;
                           DROP ;
                           NIL operation ;
                           PAIR } }
               { PAIR ;
                 DUP ;
                 { CDR ; CDR ; CAR ; CAR } ;
                 SENDER ;
                 COMPARE ;
                 EQ ;
                 IF {} { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                 DUP ;
                 CDR ;
                 { DIP { DUP } ; SWAP } ;
                 CAR ;
                 SWAP ;
                 { DUP ; DIP { CDR @%% ; { CAR @%% ; PAIR %@ % } } ; CAR @%% ; PAIR %@ %@ } ;
                 SWAP ;
                 DROP ;
                 NIL operation ;
                 PAIR } }